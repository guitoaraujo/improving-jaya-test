## Welcome

This **rails** api is a challenge code for [Jaya Tech](https://jaya.tech/). 
The main goal here is provide an api to track repositories issues using a **Github Webhook**.

### Requirements 
* Ruby 3.0.1
* Rails 6.1.4.1
* [Ngrok](https://ngrok.com/)

### Setup
> bundle

> rails db:create db:migrate

If you have any trouble here, please make sure that you have **Mysql** (or something like) properly installed in your computer. 

Now you just need to start **rails** and **ngrok**. Ngrok should redirect requests to your localhost, so please pay attention to your ports. You may use this example below:

> rails s 

> ./ngrok http 3000

After that, you need to create a **.env** file in **root folder** containing these informations as below:

```
GIT_SECRET=xxxxxx
NGROK_URL=xxxxxxxxxxxxx.ngrok.io
LOGIN=xxxxxxx
PASSWORD=xxxxxxx
```

Keep in mind that you have to properly set up this informations before start to use this API. 
`GIT_SECRET` should be provided by the repo's owner and `NGROK_URL` should be same as configured in `repo/settings/hooks/...` payload_url. This url is auto generated by ngrok when you start it. If you have any `403 Forbidden` response from **ngrok**, please try to set `config.hosts.clear` on your environment file to clear the entire whitelist.
For `LOGIN` and `PASSWORD` you may use whatever combination you want. This combination is used for `get` requests only, so you may want to use **postman** (or something like) to test this out.

### Tests
For tests you may use the command below:
> rspec



by [Igor Silva](https://github.com/guitoaraujo)